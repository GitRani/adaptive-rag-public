[2025-05-23 15:43:46,025][INFO][{'graph_id': 'adaptive_rag', 'event': "Registering graph with id 'adaptive_rag'", 'thread_name': 'asyncio_1', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:43:46.025769Z'}]
[2025-05-23 15:43:46,028][INFO][{'langgraph_auth': 'None', 'event': 'Getting auth instance: None', 'thread_name': 'MainThread', 'logger': 'langgraph_api.auth.custom', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:43:46.028273Z'}]
[2025-05-23 15:43:46,115][INFO][HTTP Request: POST https://api.smith.langchain.com/v1/metadata/submit "HTTP/1.1 204 No Content"]
[2025-05-23 15:43:46,345][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:43:46.345495Z'}]
[2025-05-23 15:43:46,345][INFO][{'run_ids': [], 'event': 'Sweeped runs', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:43:46.345861Z'}]
[2025-05-23 15:44:45,992][INFO][{'max': 1, 'available': 1, 'active': 0, 'event': 'Worker stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:44:45.992050Z'}]
[2025-05-23 15:44:46,495][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_2', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:44:46.495239Z'}]
[2025-05-23 15:44:52,154][INFO][{'run_id': '1f037a16-de61-66e8-bffd-720e7cbaff88', 'thread_id': '4763e2ab-a843-4188-9c9f-ea7a06b6844b', 'assistant_id': '57c4d76c-a160-5917-a7c1-2f6cbc8ecc11', 'multitask_strategy': 'rollback', 'stream_mode': ['debug', 'messages'], 'temporary': False, 'after_seconds': 0, 'if_not_exists': 'reject', 'event': 'Created run', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.ops', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:44:52.154785Z'}]
[2025-05-23 15:44:53,014][INFO][{'run_started_at': '2025-05-23T06:44:53.014386+00:00', 'run_queue_ms': 859, 'event': 'Starting background run', 'thread_name': 'asyncio_2', 'logger': 'langgraph_api.worker', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:44:53.014796Z', 'run_id': '1f037a16-de61-66e8-bffd-720e7cbaff88', 'run_attempt': 1, 'thread_id': '4763e2ab-a843-4188-9c9f-ea7a06b6844b', 'assistant_id': '57c4d76c-a160-5917-a7c1-2f6cbc8ecc11', 'graph_id': 'adaptive_rag', 'request_id': 'a4643d6c-a695-4715-b3ef-fcbd368e5c7a'}]
[2025-05-23 15:44:54,170][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 15:44:59,825][INFO][Use pytorch device_name: mps]
[2025-05-23 15:44:59,825][INFO][Load pretrained SentenceTransformer: BAAI/bge-m3]
[2025-05-23 15:45:10,119][INFO][Loading faiss.]
[2025-05-23 15:45:10,166][INFO][Successfully loaded faiss.]
[2025-05-23 15:45:10,178][INFO][Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.]
[2025-05-23 15:45:12,029][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 15:45:13,342][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 15:45:14,342][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 15:45:15,607][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 15:45:16,716][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 15:45:17,704][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"]
[2025-05-23 15:45:17,708][INFO][Retrying request to /v1/messages in 6.000000 seconds]
[2025-05-23 15:45:24,523][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 15:45:27,689][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"]
[2025-05-23 15:45:27,693][INFO][Retrying request to /v1/messages in 8.000000 seconds]
[2025-05-23 15:45:36,593][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 15:45:37,096][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"]
[2025-05-23 15:45:37,098][INFO][Retrying request to /v1/messages in 11.000000 seconds]
[2025-05-23 15:45:46,054][INFO][{'max': 1, 'available': 0, 'active': 1, 'event': 'Worker stats', 'thread_name': 'asyncio_1', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:45:46.054739Z'}]
[2025-05-23 15:45:46,557][INFO][{'n_pending': 0, 'n_running': 1, 'max_age_secs': datetime.datetime(2025, 5, 23, 6, 44, 52, 154711, tzinfo=datetime.timezone.utc), 'med_age_secs': datetime.datetime(2025, 5, 23, 6, 44, 52, 154711, tzinfo=datetime.timezone.utc), 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:45:46.557886Z'}]
[2025-05-23 15:45:49,407][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 15:45:49,733][INFO][{'run_id': '1f037a16-de61-66e8-bffd-720e7cbaff88', 'run_attempt': 1, 'run_created_at': '2025-05-23T06:44:52.154711+00:00', 'run_started_at': '2025-05-23T06:44:53.014386+00:00', 'run_ended_at': '2025-05-23T06:45:49.733093+00:00', 'run_exec_ms': 56718, 'event': 'Background run succeeded', 'thread_name': 'asyncio_1', 'logger': 'langgraph_api.worker', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:45:49.733292Z', 'thread_id': '4763e2ab-a843-4188-9c9f-ea7a06b6844b', 'assistant_id': '57c4d76c-a160-5917-a7c1-2f6cbc8ecc11', 'graph_id': 'adaptive_rag', 'request_id': 'a4643d6c-a695-4715-b3ef-fcbd368e5c7a'}]
[2025-05-23 15:46:46,225][INFO][{'max': 1, 'available': 1, 'active': 0, 'event': 'Worker stats', 'thread_name': 'asyncio_1', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:46:46.225195Z'}]
[2025-05-23 15:46:46,728][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:46:46.727887Z'}]
[2025-05-23 15:47:46,386][INFO][{'max': 1, 'available': 1, 'active': 0, 'event': 'Worker stats', 'thread_name': 'asyncio_1', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:47:46.385853Z'}]
[2025-05-23 15:47:46,888][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:47:46.888698Z'}]
[2025-05-23 15:47:46,889][INFO][{'run_ids': [], 'event': 'Sweeped runs', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:47:46.889454Z'}]
[2025-05-23 15:48:46,357][INFO][HTTP Request: POST https://api.smith.langchain.com/v1/metadata/submit "HTTP/1.1 204 No Content"]
[2025-05-23 15:48:46,549][INFO][{'max': 1, 'available': 1, 'active': 0, 'event': 'Worker stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:48:46.549591Z'}]
[2025-05-23 15:48:47,051][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_2', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:48:47.051040Z'}]
[2025-05-23 15:49:46,688][INFO][{'max': 1, 'available': 1, 'active': 0, 'event': 'Worker stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:49:46.688952Z'}]
[2025-05-23 15:49:47,190][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_2', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:49:47.190558Z'}]
[2025-05-23 15:49:47,731][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:49:47.731560Z'}]
[2025-05-23 15:49:47,732][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:49:47.732042Z'}]
[2025-05-23 15:49:49,208][INFO][{'graph_id': 'adaptive_rag', 'event': "Registering graph with id 'adaptive_rag'", 'thread_name': 'asyncio_1', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:49:49.208286Z'}]
[2025-05-23 15:49:49,308][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:49:49.308826Z'}]
[2025-05-23 15:49:49,309][INFO][{'run_ids': [], 'event': 'Sweeped runs', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:49:49.309776Z'}]
[2025-05-23 15:50:05,688][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:50:05.688460Z'}]
[2025-05-23 15:50:05,689][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:50:05.689011Z'}]
[2025-05-23 15:50:06,706][INFO][{'graph_id': 'adaptive_rag', 'event': "Registering graph with id 'adaptive_rag'", 'thread_name': 'asyncio_1', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:50:06.706767Z'}]
[2025-05-23 15:50:06,864][INFO][HTTP Request: POST https://api.smith.langchain.com/v1/metadata/submit "HTTP/1.1 204 No Content"]
[2025-05-23 15:50:07,062][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:50:07.062768Z'}]
[2025-05-23 15:50:07,063][INFO][{'run_ids': [], 'event': 'Sweeped runs', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:50:07.063215Z'}]
[2025-05-23 15:50:18,535][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:50:18.535216Z'}]
[2025-05-23 15:50:18,536][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:50:18.536288Z'}]
[2025-05-23 15:56:00,937][INFO][{'graph_id': 'adaptive_rag', 'event': "Registering graph with id 'adaptive_rag'", 'thread_name': 'asyncio_1', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:56:00.937413Z'}]
[2025-05-23 15:56:01,050][INFO][HTTP Request: POST https://api.smith.langchain.com/v1/metadata/submit "HTTP/1.1 204 No Content"]
[2025-05-23 15:56:01,242][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:56:01.242215Z'}]
[2025-05-23 15:56:01,242][INFO][{'run_ids': [], 'event': 'Sweeped runs', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:56:01.242711Z'}]
[2025-05-23 15:56:02,607][INFO][{'langgraph_auth': 'None', 'event': 'Getting auth instance: None', 'thread_name': 'MainThread', 'logger': 'langgraph_api.auth.custom', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:56:02.607385Z'}]
[2025-05-23 15:56:31,797][INFO][{'run_id': '1f037a30-eeb1-61c8-8c06-fa3b01827bec', 'thread_id': 'f477c8a1-4f6b-4f2a-8d70-410fe38ee57d', 'assistant_id': '57c4d76c-a160-5917-a7c1-2f6cbc8ecc11', 'multitask_strategy': 'rollback', 'stream_mode': ['debug', 'messages'], 'temporary': False, 'after_seconds': 0, 'if_not_exists': 'reject', 'event': 'Created run', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.ops', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:56:31.797504Z'}]
[2025-05-23 15:56:32,314][INFO][{'run_started_at': '2025-05-23T06:56:32.314237+00:00', 'run_queue_ms': 516, 'event': 'Starting background run', 'thread_name': 'asyncio_0', 'logger': 'langgraph_api.worker', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:56:32.314826Z', 'run_id': '1f037a30-eeb1-61c8-8c06-fa3b01827bec', 'run_attempt': 1, 'thread_id': 'f477c8a1-4f6b-4f2a-8d70-410fe38ee57d', 'assistant_id': '57c4d76c-a160-5917-a7c1-2f6cbc8ecc11', 'graph_id': 'adaptive_rag', 'request_id': '77100b30-ea01-42ce-a023-04d0e3165549'}]
[2025-05-23 15:56:32,387][INFO][======== [EDGE] ROUTE_VECTOR_OR_WEBSEARCH ========]
[2025-05-23 15:56:33,296][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 15:56:33,542][INFO][======== [ROUTE] GENERATE ========]
[2025-05-23 15:56:33,551][INFO][======== [NODE] GENERATE ========]
[2025-05-23 15:56:33,552][INFO][{'question': '오늘 점심 추천해줘', 'messages': []}]
[2025-05-23 15:56:34,507][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 15:56:34,779][INFO][======== [EDGE] ROUTE_HALLUCINATION_CHECK ========]
[2025-05-23 15:56:36,052][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 15:56:36,163][INFO][======== [LOG] FIRST DECISION :: Y ========]
[2025-05-23 15:56:37,036][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 15:56:37,290][INFO][======== [LOG] SECOND DECISION :: Y ========]
[2025-05-23 15:56:37,291][INFO][======== [ROUTE] RELEVANT ========]
[2025-05-23 15:56:37,302][INFO][{'run_id': '1f037a30-eeb1-61c8-8c06-fa3b01827bec', 'run_attempt': 1, 'run_created_at': '2025-05-23T06:56:31.797417+00:00', 'run_started_at': '2025-05-23T06:56:32.314237+00:00', 'run_ended_at': '2025-05-23T06:56:37.301821+00:00', 'run_exec_ms': 4987, 'event': 'Background run succeeded', 'thread_name': 'asyncio_2', 'logger': 'langgraph_api.worker', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:56:37.302016Z', 'thread_id': 'f477c8a1-4f6b-4f2a-8d70-410fe38ee57d', 'assistant_id': '57c4d76c-a160-5917-a7c1-2f6cbc8ecc11', 'graph_id': 'adaptive_rag', 'request_id': '77100b30-ea01-42ce-a023-04d0e3165549'}]
[2025-05-23 15:57:00,985][INFO][{'max': 1, 'available': 1, 'active': 0, 'event': 'Worker stats', 'thread_name': 'asyncio_1', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:57:00.985024Z'}]
[2025-05-23 15:57:01,487][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:57:01.487286Z'}]
[2025-05-23 15:58:01,203][INFO][{'max': 1, 'available': 1, 'active': 0, 'event': 'Worker stats', 'thread_name': 'asyncio_1', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:58:01.203779Z'}]
[2025-05-23 15:58:01,705][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:58:01.705088Z'}]
[2025-05-23 15:58:43,654][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:58:43.654311Z'}]
[2025-05-23 15:58:43,659][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:58:43.657208Z'}]
[2025-05-23 15:58:44,819][INFO][{'graph_id': 'adaptive_rag', 'event': "Registering graph with id 'adaptive_rag'", 'thread_name': 'asyncio_1', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:58:44.819787Z'}]
[2025-05-23 15:58:44,942][INFO][HTTP Request: POST https://api.smith.langchain.com/v1/metadata/submit "HTTP/1.1 204 No Content"]
[2025-05-23 15:58:45,130][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:58:45.130311Z'}]
[2025-05-23 15:58:45,130][INFO][{'run_ids': [], 'event': 'Sweeped runs', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:58:45.130949Z'}]
[2025-05-23 15:58:54,017][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:58:54.017015Z'}]
[2025-05-23 15:58:54,017][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T06:58:54.017636Z'}]
[2025-05-23 16:36:30,125][INFO][======== [EDGE] ROUTE_VECTOR_OR_WEBSEARCH ========]
[2025-05-23 16:36:31,515][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 16:36:31,524][INFO][======== [ROUTE] GENERATE ========]
[2025-05-23 16:36:31,525][INFO][======== [NODE] GENERATE ========]
[2025-05-23 16:36:31,525][INFO][{'question': '안녕하세요.', 'messages': []}]
[2025-05-23 16:36:32,491][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 16:36:32,493][INFO][======== [EDGE] ROUTE_HALLUCINATION_CHECK ========]
[2025-05-23 16:36:34,566][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 16:36:34,573][INFO][======== [LOG] FIRST DECISION :: Y ========]
[2025-05-23 16:36:35,737][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 16:36:35,745][INFO][======== [LOG] SECOND DECISION :: Y ========]
[2025-05-23 16:36:35,746][INFO][======== [ROUTE] RELEVANT ========]
[2025-05-23 16:39:32,710][INFO][{'graph_id': 'adaptive_rag', 'event': "Registering graph with id 'adaptive_rag'", 'thread_name': 'asyncio_1', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:39:32.710413Z'}]
[2025-05-23 16:39:32,767][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:39:32.767787Z'}]
[2025-05-23 16:39:32,768][INFO][{'run_ids': [], 'event': 'Sweeped runs', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:39:32.768212Z'}]
[2025-05-23 16:39:34,934][INFO][{'langgraph_auth': 'None', 'event': 'Getting auth instance: None', 'thread_name': 'MainThread', 'logger': 'langgraph_api.auth.custom', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:39:34.934752Z'}]
[2025-05-23 16:39:49,701][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:39:49.701278Z'}]
[2025-05-23 16:39:49,701][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:39:49.701649Z'}]
[2025-05-23 16:39:50,777][INFO][{'graph_id': 'adaptive_rag', 'event': "Registering graph with id 'adaptive_rag'", 'thread_name': 'asyncio_1', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:39:50.777628Z'}]
[2025-05-23 16:39:50,958][INFO][HTTP Request: POST https://api.smith.langchain.com/v1/metadata/submit "HTTP/1.1 204 No Content"]
[2025-05-23 16:39:51,117][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:39:51.117902Z'}]
[2025-05-23 16:39:51,118][INFO][{'run_ids': [], 'event': 'Sweeped runs', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:39:51.118330Z'}]
[2025-05-23 16:39:55,232][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:39:55.232626Z'}]
[2025-05-23 16:39:55,233][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:39:55.233095Z'}]
[2025-05-23 16:43:09,021][INFO][======== [EDGE] ROUTE_VECTOR_OR_WEBSEARCH ========]
[2025-05-23 16:43:10,133][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 16:43:10,153][INFO][======== [ROUTE] GENERATE ========]
[2025-05-23 16:43:10,154][INFO][======== [NODE] GENERATE ========]
[2025-05-23 16:43:10,154][INFO][{'question': '안녕하세요.', 'messages': []}]
[2025-05-23 16:43:11,401][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 16:43:11,404][INFO][======== [EDGE] ROUTE_HALLUCINATION_CHECK ========]
[2025-05-23 16:43:12,506][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 16:43:12,509][INFO][======== [LOG] FIRST DECISION :: Y ========]
[2025-05-23 16:43:13,611][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 16:43:13,613][INFO][======== [LOG] SECOND DECISION :: Y ========]
[2025-05-23 16:43:13,614][INFO][======== [ROUTE] RELEVANT ========]
[2025-05-23 16:43:48,769][INFO][{'graph_id': 'adaptive_rag', 'event': "Registering graph with id 'adaptive_rag'", 'thread_name': 'asyncio_2', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:43:48.769360Z'}]
[2025-05-23 16:43:48,938][INFO][HTTP Request: POST https://api.smith.langchain.com/v1/metadata/submit "HTTP/1.1 204 No Content"]
[2025-05-23 16:43:49,104][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:43:49.104716Z'}]
[2025-05-23 16:43:49,105][INFO][{'run_ids': [], 'event': 'Sweeped runs', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:43:49.105163Z'}]
[2025-05-23 16:43:50,892][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:43:50.892120Z'}]
[2025-05-23 16:43:50,893][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:43:50.893031Z'}]
[2025-05-23 16:49:09,040][INFO][워크플로우 실행 시작]
[2025-05-23 16:51:22,319][INFO][워크플로우 실행 시작]
[2025-05-23 16:54:08,525][INFO][워크플로우 실행 시작]
[2025-05-23 16:54:08,565][INFO][======== [EDGE] ROUTE_VECTOR_OR_WEBSEARCH ========]
[2025-05-23 16:54:33,388][INFO][워크플로우 실행 시작]
[2025-05-23 16:54:33,468][INFO][======== [EDGE] ROUTE_VECTOR_OR_WEBSEARCH ========]
[2025-05-23 16:54:41,782][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 16:54:41,802][INFO][======== [ROUTE] GENERATE ========]
[2025-05-23 16:54:41,804][INFO][======== [NODE] GENERATE ========]
[2025-05-23 16:54:41,804][INFO][{'question': '안녕하세요.', 'messages': []}]
[2025-05-23 16:54:43,111][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 16:54:43,114][INFO][======== [EDGE] ROUTE_HALLUCINATION_CHECK ========]
[2025-05-23 16:54:44,167][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 16:54:44,173][INFO][======== [LOG] FIRST DECISION :: Y ========]
[2025-05-23 16:54:45,988][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 16:54:45,995][INFO][======== [LOG] SECOND DECISION :: Y ========]
[2025-05-23 16:54:45,995][INFO][======== [ROUTE] RELEVANT ========]
[2025-05-23 16:54:46,000][INFO][Result: {'question': '안녕하세요.', 'generate_message': '안녕하세요. 무엇을 도와드릴까요?', 'documents': '', 'messages': [AIMessage(content='안녕하세요. 무엇을 도와드릴까요?', additional_kwargs={}, response_metadata={}, id='65ed0856-07ea-4e78-86e5-97cd1d9fcdcd')]}]
[2025-05-23 16:54:46,001][INFO][현재 상태: {'question': '안녕하세요.', 'generate_message': '안녕하세요. 무엇을 도와드릴까요?', 'documents': '', 'messages': [AIMessage(content='안녕하세요. 무엇을 도와드릴까요?', additional_kwargs={}, response_metadata={}, id='65ed0856-07ea-4e78-86e5-97cd1d9fcdcd')]}]
[2025-05-23 16:56:17,948][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:56:17.948155Z'}]
[2025-05-23 16:56:17,950][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:56:17.950785Z'}]
[2025-05-23 16:59:59,481][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:59:59.481142Z'}]
[2025-05-23 16:59:59,493][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T07:59:59.493676Z'}]
[2025-05-23 17:01:26,299][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:01:26.299417Z'}]
[2025-05-23 17:01:26,300][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:01:26.300089Z'}]
[2025-05-23 17:01:42,374][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:01:42.374854Z'}]
[2025-05-23 17:01:42,382][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:01:42.382081Z'}]
[2025-05-23 17:01:50,980][INFO][{'graph_id': 'adaptive_rag', 'event': "Registering graph with id 'adaptive_rag'", 'thread_name': 'asyncio_1', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:01:50.980385Z'}]
[2025-05-23 17:01:51,154][INFO][HTTP Request: POST https://api.smith.langchain.com/v1/metadata/submit "HTTP/1.1 204 No Content"]
[2025-05-23 17:01:51,317][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:01:51.317556Z'}]
[2025-05-23 17:01:51,317][INFO][{'run_ids': [], 'event': 'Sweeped runs', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:01:51.317975Z'}]
[2025-05-23 17:01:53,869][INFO][{'langgraph_auth': 'None', 'event': 'Getting auth instance: None', 'thread_name': 'MainThread', 'logger': 'langgraph_api.auth.custom', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:01:53.869511Z'}]
[2025-05-23 17:02:17,834][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:02:17.834617Z'}]
[2025-05-23 17:02:17,836][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:02:17.835984Z'}]
[2025-05-23 17:02:18,874][INFO][{'graph_id': 'adaptive_rag', 'event': "Registering graph with id 'adaptive_rag'", 'thread_name': 'asyncio_1', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:02:18.874867Z'}]
[2025-05-23 17:02:19,217][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_2', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:02:19.217302Z'}]
[2025-05-23 17:02:19,217][INFO][{'run_ids': [], 'event': 'Sweeped runs', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:02:19.217761Z'}]
[2025-05-23 17:02:19,400][INFO][HTTP Request: POST https://api.smith.langchain.com/v1/metadata/submit "HTTP/1.1 204 No Content"]
[2025-05-23 17:02:22,314][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:02:22.313869Z'}]
[2025-05-23 17:02:22,315][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:02:22.315247Z'}]
[2025-05-23 17:02:29,776][INFO][워크플로우 실행 시작]
[2025-05-23 17:02:29,823][INFO][======== [EDGE] ROUTE_VECTOR_OR_WEBSEARCH ========]
[2025-05-23 17:02:31,396][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:02:31,406][INFO][======== [ROUTE] GENERATE ========]
[2025-05-23 17:02:31,407][INFO][======== [NODE] GENERATE ========]
[2025-05-23 17:02:31,408][INFO][{'question': '안녕하세요.', 'messages': []}]
[2025-05-23 17:02:33,013][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:02:33,017][INFO][======== [EDGE] ROUTE_HALLUCINATION_CHECK ========]
[2025-05-23 17:02:34,167][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:02:34,174][INFO][======== [LOG] FIRST DECISION :: Y ========]
[2025-05-23 17:02:35,346][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:02:35,593][INFO][======== [LOG] SECOND DECISION :: Y ========]
[2025-05-23 17:02:35,593][INFO][======== [ROUTE] RELEVANT ========]
[2025-05-23 17:03:23,956][INFO][워크플로우 실행 시작]
[2025-05-23 17:03:23,994][INFO][======== [EDGE] ROUTE_VECTOR_OR_WEBSEARCH ========]
[2025-05-23 17:03:25,079][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:03:25,089][INFO][======== [ROUTE] GENERATE ========]
[2025-05-23 17:03:25,090][INFO][======== [NODE] GENERATE ========]
[2025-05-23 17:03:25,090][INFO][{'question': '안녕하세요.', 'messages': []}]
[2025-05-23 17:03:26,580][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:03:26,588][INFO][======== [EDGE] ROUTE_HALLUCINATION_CHECK ========]
[2025-05-23 17:03:36,820][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:03:36,828][INFO][======== [LOG] FIRST DECISION :: Y ========]
[2025-05-23 17:03:38,038][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:03:38,043][INFO][======== [LOG] SECOND DECISION :: Y ========]
[2025-05-23 17:03:38,043][INFO][======== [ROUTE] RELEVANT ========]
[2025-05-23 17:04:56,742][INFO][워크플로우 실행 시작]
[2025-05-23 17:04:56,785][INFO][======== [EDGE] ROUTE_VECTOR_OR_WEBSEARCH ========]
[2025-05-23 17:04:58,144][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:04:58,157][INFO][======== [ROUTE] VECTOR ========]
[2025-05-23 17:04:58,158][INFO][======== [NODE] RETRIEVE ========]
[2025-05-23 17:04:58,159][INFO][======== [NODE][RETRIEVE] Question: 현업의 업종을 판단할 때 공무직 및 공공근로 등 단기간 근로자를 포함하여 채용인원이 가장 많은 상위 2~3개 부서의 현업업무의 업종을 주된 업종으로 판단하여 산업안전보건법을 적용 가능한지? ========]
[2025-05-23 17:05:03,499][INFO][Use pytorch device_name: mps]
[2025-05-23 17:05:03,499][INFO][Load pretrained SentenceTransformer: BAAI/bge-m3]
[2025-05-23 17:05:10,885][INFO][[DEBUG] embedding 객체 타입: <class 'langchain_huggingface.embeddings.huggingface.HuggingFaceEmbeddings'>]
[2025-05-23 17:05:12,060][INFO][Loading faiss.]
[2025-05-23 17:05:12,108][INFO][Successfully loaded faiss.]
[2025-05-23 17:05:12,112][INFO][Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.]
[2025-05-23 17:05:13,955][INFO][[0 content] :: page_content='장비유지관리, 현장공사, 현장지도 단속·감시 등 현업업무는 별도로
해당 업무와 유사한 업종에 따라 ｢산업안전보건법｣ 적용 여부를 판단
해야 할 것이므로 산업안전보건법이 전부 적용됨
2. 현업의 업종을 판단할 때 공무직 및 공공근로 등 단기간 근로자를
포함하여 채용인원이 가장 많은 상위 2~3개 부서의 현업업무의 업
종을 주된 업종으로 판단하여 산업안전보건법을 적용 가능한지?
○ 지방자치단체를 하나의 사업장으로 보아 공공행정에 해당하는 일반
행정사무 외의 다양한 현업업무는 가장 많은 비율을 차지하는 현업' metadata={'source': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'file_path': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'page': 2, 'total_pages': 3, 'Author': 'dw', 'CreationDate': "D:20241223160641+09'00'", 'Creator': 'Hwp 2022 12.0.0.2416', 'ModDate': "D:20241223160641+09'00'", 'PDFVersion': '1.4', 'Producer': 'Hancom PDF 1.3.0.545'}]
[2025-05-23 17:05:13,955][INFO][++++++++++++++++++++++++++++++]
[2025-05-23 17:05:13,955][INFO][[1 content] :: page_content='행정사무 외의 다양한 현업업무는 가장 많은 비율을 차지하는 현업
업무종사자의 업태와 유사한 업종을 기준으로 판단하여야 할 것임
3. 산업안전보건법을 전부 적용 가능하면 지방자치단체 소속 공무직
및 공공근로 등 단기간 근로자수를 합산하여 총 근로자수로 판단
가능한지?
○ 법 적용을 위한 상시근로자수 판단에 있어서는 해당 조문이 적용
되는 범위에서의 상시근로자수를 판단하여야 함
- 즉, 공공행정에 해당하는 업무 외 현업업무에 해당하여 산업안전
보건법 관련 규정을 적용할 때에는 지자체를 하나의 사업장으로' metadata={'source': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'file_path': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'page': 2, 'total_pages': 3, 'Author': 'dw', 'CreationDate': "D:20241223160641+09'00'", 'Creator': 'Hwp 2022 12.0.0.2416', 'ModDate': "D:20241223160641+09'00'", 'PDFVersion': '1.4', 'Producer': 'Hancom PDF 1.3.0.545'}]
[2025-05-23 17:05:13,955][INFO][++++++++++++++++++++++++++++++]
[2025-05-23 17:05:13,955][INFO][[2 content] :: page_content='규정은 전체 지자체 종사자를 상시근로자로 파악하여 적용하고,
적용제외 규정이나 예외적으로 현업종사자를 대상으로 적용되는
규정은(제2장 등)은 그 적용대상 종사자만을 상시근로자로 판단
- 현업업무의 관리 및 집행행정 사무담당자는 공공행정에 해당하
므로 상시근로자수 판단에서 제외하여야 함
○ 지방자치단체에서 현업 종사자등의 안전·보건관리를 위해 안전
보건관리체제 등을 갖추도록 할 경우
- 지방자치단체를 하나의 사업장으로 보아 다양한 업무 종사자를
하나의 적용단위로 판단할 때 업종판단은 가장 많은 비율을 차지' metadata={'source': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'file_path': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'page': 1, 'total_pages': 3, 'Author': 'dw', 'CreationDate': "D:20241223160641+09'00'", 'Creator': 'Hwp 2022 12.0.0.2416', 'ModDate': "D:20241223160641+09'00'", 'PDFVersion': '1.4', 'Producer': 'Hancom PDF 1.3.0.545'}]
[2025-05-23 17:05:13,956][INFO][++++++++++++++++++++++++++++++]
[2025-05-23 17:05:13,956][INFO][[3 content] :: page_content='보건법 관련 규정을 적용할 때에는 지자체를 하나의 사업장으로
보고 해당 지자체에서 현업업무에 종사하는 공무원, 공무직 등을
포함하여 상시근로자로 판단하여야 함
4. 합산한 근로자수가 100명 이상이면 산안법 제13조제1항, 산안법 제15조제
1항, 산안법 제16조제1항, 산안법 제19조제1항, 산안법 제20조제1항, 산
안법 제24조제1항제5항, 산안법 제31조 등 각 조항을 적용하여 산
안법 위반으로 처분 가능한지?
○ 지자체가 수행하는 다양한 현업업무 종사자들의 대표 업종이 정' metadata={'source': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'file_path': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'page': 2, 'total_pages': 3, 'Author': 'dw', 'CreationDate': "D:20241223160641+09'00'", 'Creator': 'Hwp 2022 12.0.0.2416', 'ModDate': "D:20241223160641+09'00'", 'PDFVersion': '1.4', 'Producer': 'Hancom PDF 1.3.0.545'}]
[2025-05-23 17:05:13,956][INFO][++++++++++++++++++++++++++++++]
[2025-05-23 17:05:13,956][INFO][[4 content] :: page_content='- 다만, 공공행정사업이더라도 근로형태가 현저히 다르고 노무관리가
명확히 구분되는 경우에는 해당 부문의 유사업종에 기초하여 법
적용여부를 판단하여야 함
○ 즉, 지방자치단체는 ｢한국표준산업분류｣에 따르면 원칙적으로 공공
행정에 해당하나,
- 일반 행정사무와 근로형태나 노무관리가 명확히 구분되는 환경
미화, 가로청소 등의 현업업무는 별도로 해당 업무와 유사한 업종에
따라 ｢산업안전보건법｣ 적용 여부를 판단해야 할 것이므로 산업
안전보건법이 전부 적용됨
○ 한편, 지방자치단체는 ｢지방자치법｣ 제3조에 따른 법인인 사업주' metadata={'source': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'file_path': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'page': 1, 'total_pages': 3, 'Author': 'dw', 'CreationDate': "D:20241223160641+09'00'", 'Creator': 'Hwp 2022 12.0.0.2416', 'ModDate': "D:20241223160641+09'00'", 'PDFVersion': '1.4', 'Producer': 'Hancom PDF 1.3.0.545'}]
[2025-05-23 17:05:13,956][INFO][++++++++++++++++++++++++++++++]
[2025-05-23 17:05:13,958][INFO][======== [NODE] GRADE DOCUMENTS ========]
[2025-05-23 17:05:15,156][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:05:15,163][INFO][======== [NODE:CHECK] RELEVANT DOCUMENT ========]
[2025-05-23 17:05:15,163][INFO][page_content='장비유지관리, 현장공사, 현장지도 단속·감시 등 현업업무는 별도로
해당 업무와 유사한 업종에 따라 ｢산업안전보건법｣ 적용 여부를 판단
해야 할 것이므로 산업안전보건법이 전부 적용됨
2. 현업의 업종을 판단할 때 공무직 및 공공근로 등 단기간 근로자를
포함하여 채용인원이 가장 많은 상위 2~3개 부서의 현업업무의 업
종을 주된 업종으로 판단하여 산업안전보건법을 적용 가능한지?
○ 지방자치단체를 하나의 사업장으로 보아 공공행정에 해당하는 일반
행정사무 외의 다양한 현업업무는 가장 많은 비율을 차지하는 현업' metadata={'source': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'file_path': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'page': 2, 'total_pages': 3, 'Author': 'dw', 'CreationDate': "D:20241223160641+09'00'", 'Creator': 'Hwp 2022 12.0.0.2416', 'ModDate': "D:20241223160641+09'00'", 'PDFVersion': '1.4', 'Producer': 'Hancom PDF 1.3.0.545'}]
[2025-05-23 17:05:16,456][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:05:16,464][INFO][======== [NODE:CHECK] RELEVANT DOCUMENT ========]
[2025-05-23 17:05:16,464][INFO][page_content='행정사무 외의 다양한 현업업무는 가장 많은 비율을 차지하는 현업
업무종사자의 업태와 유사한 업종을 기준으로 판단하여야 할 것임
3. 산업안전보건법을 전부 적용 가능하면 지방자치단체 소속 공무직
및 공공근로 등 단기간 근로자수를 합산하여 총 근로자수로 판단
가능한지?
○ 법 적용을 위한 상시근로자수 판단에 있어서는 해당 조문이 적용
되는 범위에서의 상시근로자수를 판단하여야 함
- 즉, 공공행정에 해당하는 업무 외 현업업무에 해당하여 산업안전
보건법 관련 규정을 적용할 때에는 지자체를 하나의 사업장으로' metadata={'source': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'file_path': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'page': 2, 'total_pages': 3, 'Author': 'dw', 'CreationDate': "D:20241223160641+09'00'", 'Creator': 'Hwp 2022 12.0.0.2416', 'ModDate': "D:20241223160641+09'00'", 'PDFVersion': '1.4', 'Producer': 'Hancom PDF 1.3.0.545'}]
[2025-05-23 17:05:18,184][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:05:18,192][INFO][======== [NODE:CHECK] IRRELEVANT DOCUMENT ========]
[2025-05-23 17:05:18,192][INFO][page_content='규정은 전체 지자체 종사자를 상시근로자로 파악하여 적용하고,
적용제외 규정이나 예외적으로 현업종사자를 대상으로 적용되는
규정은(제2장 등)은 그 적용대상 종사자만을 상시근로자로 판단
- 현업업무의 관리 및 집행행정 사무담당자는 공공행정에 해당하
므로 상시근로자수 판단에서 제외하여야 함
○ 지방자치단체에서 현업 종사자등의 안전·보건관리를 위해 안전
보건관리체제 등을 갖추도록 할 경우
- 지방자치단체를 하나의 사업장으로 보아 다양한 업무 종사자를
하나의 적용단위로 판단할 때 업종판단은 가장 많은 비율을 차지' metadata={'source': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'file_path': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'page': 1, 'total_pages': 3, 'Author': 'dw', 'CreationDate': "D:20241223160641+09'00'", 'Creator': 'Hwp 2022 12.0.0.2416', 'ModDate': "D:20241223160641+09'00'", 'PDFVersion': '1.4', 'Producer': 'Hancom PDF 1.3.0.545'}]
[2025-05-23 17:05:19,633][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:05:19,641][INFO][======== [NODE:CHECK] RELEVANT DOCUMENT ========]
[2025-05-23 17:05:19,641][INFO][page_content='보건법 관련 규정을 적용할 때에는 지자체를 하나의 사업장으로
보고 해당 지자체에서 현업업무에 종사하는 공무원, 공무직 등을
포함하여 상시근로자로 판단하여야 함
4. 합산한 근로자수가 100명 이상이면 산안법 제13조제1항, 산안법 제15조제
1항, 산안법 제16조제1항, 산안법 제19조제1항, 산안법 제20조제1항, 산
안법 제24조제1항제5항, 산안법 제31조 등 각 조항을 적용하여 산
안법 위반으로 처분 가능한지?
○ 지자체가 수행하는 다양한 현업업무 종사자들의 대표 업종이 정' metadata={'source': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'file_path': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'page': 2, 'total_pages': 3, 'Author': 'dw', 'CreationDate': "D:20241223160641+09'00'", 'Creator': 'Hwp 2022 12.0.0.2416', 'ModDate': "D:20241223160641+09'00'", 'PDFVersion': '1.4', 'Producer': 'Hancom PDF 1.3.0.545'}]
[2025-05-23 17:05:22,319][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:05:22,321][INFO][======== [NODE:CHECK] IRRELEVANT DOCUMENT ========]
[2025-05-23 17:05:22,322][INFO][page_content='- 다만, 공공행정사업이더라도 근로형태가 현저히 다르고 노무관리가
명확히 구분되는 경우에는 해당 부문의 유사업종에 기초하여 법
적용여부를 판단하여야 함
○ 즉, 지방자치단체는 ｢한국표준산업분류｣에 따르면 원칙적으로 공공
행정에 해당하나,
- 일반 행정사무와 근로형태나 노무관리가 명확히 구분되는 환경
미화, 가로청소 등의 현업업무는 별도로 해당 업무와 유사한 업종에
따라 ｢산업안전보건법｣ 적용 여부를 판단해야 할 것이므로 산업
안전보건법이 전부 적용됨
○ 한편, 지방자치단체는 ｢지방자치법｣ 제3조에 따른 법인인 사업주' metadata={'source': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'file_path': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'page': 1, 'total_pages': 3, 'Author': 'dw', 'CreationDate': "D:20241223160641+09'00'", 'Creator': 'Hwp 2022 12.0.0.2416', 'ModDate': "D:20241223160641+09'00'", 'PDFVersion': '1.4', 'Producer': 'Hancom PDF 1.3.0.545'}]
[2025-05-23 17:05:22,322][INFO][======== [EDGE] ROUTE_GENERATE_BY_RELEVANCE ========]
[2025-05-23 17:05:22,322][INFO][======== [LOG] LENGTH OF DOCUMENTS :: 3 ========]
[2025-05-23 17:05:22,322][INFO][======== [ROUTE] RELEVANT ========]
[2025-05-23 17:05:22,323][INFO][======== [NODE] GENERATE ========]
[2025-05-23 17:05:22,323][INFO][{'question': '현업의 업종을 판단할 때 공무직 및 공공근로 등 단기간 근로자를 포함하여 채용인원이 가장 많은 상위 2~3개 부서의 현업업무의 업종을 주된 업종으로 판단하여 산업안전보건법을 적용 가능한지?', 'documents': [Document(id='ea9b99b0-7d00-4222-9767-c3b76a773f1c', metadata={'source': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'file_path': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'page': 2, 'total_pages': 3, 'Author': 'dw', 'CreationDate': "D:20241223160641+09'00'", 'Creator': 'Hwp 2022 12.0.0.2416', 'ModDate': "D:20241223160641+09'00'", 'PDFVersion': '1.4', 'Producer': 'Hancom PDF 1.3.0.545'}, page_content='장비유지관리, 현장공사, 현장지도 단속·감시 등 현업업무는 별도로\n해당 업무와 유사한 업종에 따라 ｢산업안전보건법｣ 적용 여부를 판단\n해야 할 것이므로 산업안전보건법이 전부 적용됨\n2. 현업의 업종을 판단할 때 공무직 및 공공근로 등 단기간 근로자를\n포함하여 채용인원이 가장 많은 상위 2~3개 부서의 현업업무의 업\n종을 주된 업종으로 판단하여 산업안전보건법을 적용 가능한지?\n○ 지방자치단체를 하나의 사업장으로 보아 공공행정에 해당하는 일반\n행정사무 외의 다양한 현업업무는 가장 많은 비율을 차지하는 현업'), Document(id='95dcda13-702a-4175-bd2c-29207f7ad5dd', metadata={'source': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'file_path': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'page': 2, 'total_pages': 3, 'Author': 'dw', 'CreationDate': "D:20241223160641+09'00'", 'Creator': 'Hwp 2022 12.0.0.2416', 'ModDate': "D:20241223160641+09'00'", 'PDFVersion': '1.4', 'Producer': 'Hancom PDF 1.3.0.545'}, page_content='행정사무 외의 다양한 현업업무는 가장 많은 비율을 차지하는 현업\n업무종사자의 업태와 유사한 업종을 기준으로 판단하여야 할 것임\n3. 산업안전보건법을 전부 적용 가능하면 지방자치단체 소속 공무직\n및 공공근로 등 단기간 근로자수를 합산하여 총 근로자수로 판단\n가능한지?\n○ 법 적용을 위한 상시근로자수 판단에 있어서는 해당 조문이 적용\n되는 범위에서의 상시근로자수를 판단하여야 함\n- 즉, 공공행정에 해당하는 업무 외 현업업무에 해당하여 산업안전\n보건법 관련 규정을 적용할 때에는 지자체를 하나의 사업장으로'), Document(id='892bb75e-94ff-4093-9ef5-98b8be192e32', metadata={'source': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'file_path': '/Users/ranifarm/python-work/adaptive-rag/vectorstore/data/지방자치단체 산안법 적용 (산재예방정책과-3018 (2018.07.06. 시행).pdf', 'page': 2, 'total_pages': 3, 'Author': 'dw', 'CreationDate': "D:20241223160641+09'00'", 'Creator': 'Hwp 2022 12.0.0.2416', 'ModDate': "D:20241223160641+09'00'", 'PDFVersion': '1.4', 'Producer': 'Hancom PDF 1.3.0.545'}, page_content='보건법 관련 규정을 적용할 때에는 지자체를 하나의 사업장으로\n보고 해당 지자체에서 현업업무에 종사하는 공무원, 공무직 등을\n포함하여 상시근로자로 판단하여야 함\n4. 합산한 근로자수가 100명 이상이면 산안법 제13조제1항, 산안법 제15조제\n1항, 산안법 제16조제1항, 산안법 제19조제1항, 산안법 제20조제1항, 산\n안법 제24조제1항제5항, 산안법 제31조 등 각 조항을 적용하여 산\n안법 위반으로 처분 가능한지?\n○ 지자체가 수행하는 다양한 현업업무 종사자들의 대표 업종이 정')], 'messages': []}]
[2025-05-23 17:05:22,612][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"]
[2025-05-23 17:05:22,617][INFO][Retrying request to /v1/messages in 4.000000 seconds]
[2025-05-23 17:05:31,164][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:05:31,176][INFO][======== [EDGE] ROUTE_HALLUCINATION_CHECK ========]
[2025-05-23 17:05:31,475][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"]
[2025-05-23 17:05:31,478][INFO][Retrying request to /v1/messages in 7.000000 seconds]
[2025-05-23 17:05:40,113][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:05:40,120][INFO][======== [LOG] FIRST DECISION :: Y ========]
[2025-05-23 17:05:40,661][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 429 Too Many Requests"]
[2025-05-23 17:05:40,664][INFO][Retrying request to /v1/messages in 10.000000 seconds]
[2025-05-23 17:05:52,198][INFO][HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 200 OK"]
[2025-05-23 17:05:52,204][INFO][======== [LOG] SECOND DECISION :: Y ========]
[2025-05-23 17:05:52,205][INFO][======== [ROUTE] RELEVANT ========]
[2025-05-23 17:08:12,237][INFO][{'graph_id': 'adaptive_rag', 'event': "Registering graph with id 'adaptive_rag'", 'thread_name': 'asyncio_1', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:08:12.237687Z'}]
[2025-05-23 17:08:12,277][INFO][HTTP Request: POST https://api.smith.langchain.com/v1/metadata/submit "HTTP/1.1 204 No Content"]
[2025-05-23 17:08:12,495][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_0', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:08:12.495267Z'}]
[2025-05-23 17:08:12,495][INFO][{'run_ids': [], 'event': 'Sweeped runs', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:08:12.495634Z'}]
[2025-05-23 17:08:18,911][INFO][{'langgraph_auth': 'None', 'event': 'Getting auth instance: None', 'thread_name': 'MainThread', 'logger': 'langgraph_api.auth.custom', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:08:18.911902Z'}]
[2025-05-23 17:09:12,154][INFO][{'max': 1, 'available': 1, 'active': 0, 'event': 'Worker stats', 'thread_name': 'asyncio_1', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:09:12.154502Z'}]
[2025-05-23 17:09:12,657][INFO][{'n_pending': 0, 'max_age_secs': None, 'med_age_secs': None, 'n_running': 0, 'event': 'Queue stats', 'thread_name': 'asyncio_2', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:09:12.656926Z'}]
[2025-05-23 17:09:15,546][INFO][{'event': 'Shutting down background workers', 'thread_name': 'MainThread', 'logger': 'langgraph_runtime_inmem.queue', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:09:15.546102Z'}]
[2025-05-23 17:09:15,546][INFO][{'event': 'Shutting down remote graphs', 'thread_name': 'MainThread', 'logger': 'langgraph_api.graph', 'level': 'info', 'api_variant': 'local_dev', 'timestamp': '2025-05-23T08:09:15.546660Z'}]
